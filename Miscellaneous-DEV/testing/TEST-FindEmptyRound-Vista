[{"link_serial":133,"update_time":"2019-12-02T20:04:12.181000+00:00","scrub_version":"dd6f434acae80e6b7382efe3ee4050f30b91d7fb7a65709412322daf86e55107","instance_id":"79cf51ce-a046-4fad-ab60-b6ab1a80e9a6","snap_map":{"1958880b-32d8-4859-a289-7565750f0d84":{"instance_version":2,"class_id":"com-snaplogic-snaps-sqlserver-execute","class_build_tag":"snapsmrc528","class_fqid":"com-snaplogic-snaps-sqlserver-execute_1-snapsmrc528","instance_id":"1958880b-32d8-4859-a289-7565750f0d84","property_map":{"info":{"notes":{"value":null},"label":{"value":"SQL Server - Execute"}},"view_serial":101,"account":{"account_ref":{"expression":false,"value":{"label":{"expression":false,"value":"SqlServer - Vista - ALL - snaplogic_ro"},"ref_class_id":{"value":"com-snaplogic-snap-api-sql-accounts-sqlserverdynamicaccount"},"ref_id":{"expression":false,"value":"ba3d6c3c-a922-40ae-b528-90ae127ad41a"}}}},"settings":{"autoCommit":{"value":"Use account setting"},"execution_mode":{"value":"Validate & Execute"},"maxRetryProp":{"expression":false,"value":0},"passThrough":{"value":true},"executable_during_suggest":{"value":false},"sqlStatement":{"expression":false,"value":"WITH \"Tool2_47da\" AS\n(Select dbo.tblSession.Session_lngSessionId,\ndbo.tblFilm.Film_strTitle,\ndbo.tblSession.Cinema_strCode,\ndbo.tblSession.Session_strStopSales,\ndbo.tblSession.ScreenL_intId,\ndbo.tblSession.Session_dtmShowing,\ndbo.tblSession.Session_intSeatsSold,\ndbo.tblSession.Session_intSeatsHeld,\ndbo.tblSession.Session_intSeatsAvail\nFrom tblSession Inner \nJoin dbo.tblFilm \nOn dbo.tblSession.Film_strCode = dbo.tblFilm.Film_strCode)\nSELECT * FROM \"Tool2_47da\""},"ignoreEmptyResult":{"value":false},"retryIntervalProp":{"expression":false,"value":1}},"error":{"error0":{"label":{"value":"error0"},"view_type":{"value":"document"}},"error_behavior":{"value":"fail"}},"output":{"output101":{"label":{"value":"output0"},"view_type":{"value":"document"}}}},"class_version":1,"instance_fqid":"1958880b-32d8-4859-a289-7565750f0d84_2"},"66c64165-3d65-4109-b8dc-1857ea027b42":{"instance_version":1,"class_id":"com-snaplogic-snaps-transform-csvformatter","class_build_tag":"transform8280","class_fqid":"com-snaplogic-snaps-transform-csvformatter_3-transform8280","instance_id":"66c64165-3d65-4109-b8dc-1857ea027b42","property_map":{"info":{"label":{"value":"CSV Formatter"}},"view_serial":100,"input":{"input0":{"label":{"value":"input0"},"view_type":{"value":"document"}}},"settings":{"execution_mode":{"value":"Validate & Execute"},"escapeChar":{"value":"\\"},"quoteMode":{"value":"ALL"},"quoteCharacter":{"value":"\""},"writeHeader":{"value":true},"charset":{"value":"UTF-8"},"ignoreEmptyStream":{"value":false},"writeBOM":{"value":false},"delimiter":{"value":","},"errorPolicy":{"value":"Default"},"newlineCharacter":{"value":"LF"},"useDefinedHeader":{"value":false},"outputHeader":{"value":[{"expression":{"expression":true,"value":""}}]}},"error":{"error0":{"label":{"value":"error0"},"view_type":{"value":"document"}},"error_behavior":{"value":"fail"}},"output":{"output0":{"label":{"value":"output0"},"view_type":{"value":"binary"}}}},"class_version":3,"instance_fqid":"66c64165-3d65-4109-b8dc-1857ea027b42_1"},"6f17931c-074c-488b-96d2-19b468dec377":{"instance_version":1,"class_id":"com-snaplogic-snaps-transform-datatransform","class_build_tag":"snapsmrc528","class_fqid":"com-snaplogic-snaps-transform-datatransform_4-snapsmrc528","instance_id":"6f17931c-074c-488b-96d2-19b468dec377","property_map":{"info":{"notes":{"value":null},"label":{"value":"Select fields"}},"view_serial":100,"input":{"input0":{"label":{"value":"input0"},"view_type":{"value":"document"}}},"settings":{"nullSafeAccess":{"value":false},"passThrough":{"value":false},"execution_mode":{"value":"Validate & Execute"},"transformations":{"value":{"mappingTable":{"value":[{"targetPath":{"value":"$PK"},"expression":{"expression":true,"value":"$Cinema_strCode + '-' + $Session_lngSessionId"}},{"targetPath":{"value":"$StoreName"},"expression":{"expression":true,"value":"_storeName"}},{"targetPath":{"value":"$StoreNo"},"expression":{"expression":true,"value":"_storeNumber"}},{"targetPath":{"value":"$SessionID"},"expression":{"expression":true,"value":"$Session_lngSessionId"}},{"targetPath":{"value":"$Title"},"expression":{"expression":true,"value":"$Film_strTitle"}},{"targetPath":{"value":"$MarkedSoldOut"},"expression":{"expression":true,"value":"0 == $Session_intSeatsAvail ? 'Y' : 'N'"}},{"targetPath":{"value":"$Auditorium"},"expression":{"expression":true,"value":"$ScreenL_intId"}},{"targetPath":{"value":"$Showing"},"expression":{"expression":true,"value":"Date.parse($Session_dtmShowing.toString())"}},{"targetPath":{"value":"$SeatsSold"},"expression":{"expression":true,"value":"$Session_intSeatsSold"}},{"targetPath":{"value":"$SeatsHeld"},"expression":{"expression":true,"value":"$Session_intSeatsHeld"}},{"targetPath":{"value":"$SeatsAvailable"},"expression":{"expression":true,"value":"$Session_intSeatsAvail"}},{"targetPath":{"value":"$AuditoriumSize"},"expression":{"expression":true,"value":"$Session_intSeatsSold+$Session_intSeatsHeld+$Session_intSeatsAvail"}},{"targetPath":{"value":"$ShowDate"},"expression":{"expression":true,"value":"$Session_dtmShowing.toString().substring(0,10)"}},{"targetPath":{"value":"$ShowTime"},"expression":{"expression":true,"value":"$Session_dtmShowing.toString().substring(11,19)"}},{"targetPath":{"value":"$Date"},"expression":{"expression":true,"value":"Date.parse($Session_dtmShowing.toString().substring(0,10))"}}]},"mappingRoot":{"value":"$"}}}},"error":{"error0":{"label":{"value":"error0"},"view_type":{"value":"document"}},"error_behavior":{"value":"fail"}},"output":{"output0":{"label":{"value":"output0"},"view_type":{"value":"document"}}}},"class_version":4,"instance_fqid":"6f17931c-074c-488b-96d2-19b468dec377_1"},"9452c9bb-aee1-43f7-869e-72cf0e9978e9":{"instance_version":1,"class_id":"com-snaplogic-snaps-flow-filter","class_build_tag":"snapsmrc528","class_fqid":"com-snaplogic-snaps-flow-filter_2-snapsmrc528","instance_id":"9452c9bb-aee1-43f7-869e-72cf0e9978e9","property_map":{"info":{"notes":{"value":null},"label":{"value":"Filter"}},"view_serial":100,"input":{"input0":{"label":{"value":"input0"},"view_type":{"value":"document"}}},"settings":{"filterExpression":{"expression":true,"value":"$Round == null"},"execution_mode":{"value":"Validate & Execute"}},"error":{"error0":{"label":{"value":"error0"},"view_type":{"value":"document"}},"error_behavior":{"value":"fail"}},"output":{"output0":{"label":{"value":"output0"},"view_type":{"value":"document"}}}},"class_version":2,"instance_fqid":"9452c9bb-aee1-43f7-869e-72cf0e9978e9_1"},"bff443ee-51e6-49b4-aa40-ac0df23d9c56":{"instance_version":2,"class_id":"com-snaplogic-snaps-transform-datatransform","class_build_tag":"snapsmrc523","class_fqid":"com-snaplogic-snaps-transform-datatransform_4-snapsmrc523","instance_id":"bff443ee-51e6-49b4-aa40-ac0df23d9c56","property_map":{"info":{"notes":{"value":null},"label":{"value":"Add round data Flags"}},"view_serial":100,"input":{"input0":{"label":{"value":"input0"},"view_type":{"value":"document"}}},"settings":{"nullSafeAccess":{"value":false},"passThrough":{"value":true},"execution_mode":{"value":"Validate & Execute"},"transformations":{"value":{"mappingTable":{"value":[{"targetPath":{"value":"$M1"},"expression":{"expression":true,"value":"$Showing >= $Date.plusSeconds(6*3600) && $Showing < $Date.plusSeconds(13*3600)  ? 'M1' : null"}},{"targetPath":{"value":"$M2"},"expression":{"expression":true,"value":"$Showing < $Date.plusSeconds(15.5*3600) && $Showing >= $Date.plusSeconds(13*3600) ? 'M2' : null"}},{"targetPath":{"value":"$M3"},"expression":{"expression":true,"value":"$Showing < $Date.plusSeconds(18*3600) && $Showing >= $Date.plusSeconds(15.5*3600) ? 'M3' : null"}},{"targetPath":{"value":"$E1"},"expression":{"expression":true,"value":"$Showing < $Date.plusSeconds(20.5*3600) && $Showing >= $Date.plusSeconds(18*3600) ? 'E1' : null"}},{"targetPath":{"value":"$E2"},"expression":{"expression":true,"value":"$Showing < $Date.plusSeconds(23*3600) && $Showing >= $Date.plusSeconds(20.5*3600) ? 'E2' : null"}},{"targetPath":{"value":"$E3"},"expression":{"expression":true,"value":"$Showing >= $Date.plusSeconds(23*3600) || $Showing < $Date.plusSeconds(6*3600) ? 'E3' : null"}}]},"mappingRoot":{"value":"$"}}}},"error":{"error0":{"label":{"value":"error0"},"view_type":{"value":"document"}},"error_behavior":{"value":"fail"}},"output":{"output0":{"label":{"value":"output0"},"view_type":{"value":"document"}}}},"class_version":4,"instance_fqid":"bff443ee-51e6-49b4-aa40-ac0df23d9c56_2"},"fb84de50-6f51-4de7-bdb7-6352314df6f1":{"instance_id":"fb84de50-6f51-4de7-bdb7-6352314df6f1","class_id":"com-snaplogic-snaps-transform-datatransform","class_build_tag":"snapsmrc523","class_fqid":"com-snaplogic-snaps-transform-datatransform_4-snapsmrc523","instance_version":1,"property_map":{"info":{"notes":{"value":null},"label":{"value":"AddRoundData"}},"view_serial":100,"input":{"input0":{"label":{"value":"input0"},"view_type":{"value":"document"}}},"settings":{"nullSafeAccess":{"value":false},"passThrough":{"value":true},"execution_mode":{"value":"Validate & Execute"},"transformations":{"value":{"mappingTable":{"value":[{"targetPath":{"value":"$Round"},"expression":{"expression":true,"value":"$M1 || $M2 || $M3 || $E1 || $E2 || $E3"}},{"targetPath":{"value":null},"expression":{"expression":true,"value":"$M1"}},{"targetPath":{"value":null},"expression":{"expression":true,"value":"$M2"}},{"targetPath":{"value":null},"expression":{"expression":true,"value":"$M3"}},{"targetPath":{"value":null},"expression":{"expression":true,"value":"$E1"}},{"targetPath":{"value":null},"expression":{"expression":true,"value":"$E2"}},{"targetPath":{"value":null},"expression":{"expression":true,"value":"$E3"}},{"targetPath":{"value":null},"expression":{"expression":true,"value":"$Date"}}]},"mappingRoot":{"value":"$"}}}},"error":{"error0":{"label":{"value":"error0"},"view_type":{"value":"document"}},"error_behavior":{"value":"fail"}},"output":{"output0":{"label":{"value":"output0"},"view_type":{"value":"document"}}}},"class_version":4,"instance_fqid":"fb84de50-6f51-4de7-bdb7-6352314df6f1_1"},"4c9708ae-c7e7-4dcd-aad0-e68e86b21018":{"instance_version":1,"class_id":"com-snaplogic-snaps-binary-write","class_build_tag":"snapsmrc528","class_fqid":"com-snaplogic-snaps-binary-write_3-snapsmrc528","instance_id":"4c9708ae-c7e7-4dcd-aad0-e68e86b21018","property_map":{"info":{"notes":{"value":null},"label":{"value":"File Writer"}},"view_serial":100,"account":{"account_ref":{"expression":false,"value":{}}},"settings":{"retryInterval":{"expression":false,"value":1},"retries":{"expression":false,"value":0},"execution_mode":{"value":"Execute only"},"flushIntervalKb":{"value":-1},"writeHeader":{"value":false},"createDir":{"value":false},"executable_during_suggest":{"value":false},"filename":{"expression":false,"value":"test_empty_round.txt"},"writeEmptyFile":{"value":false},"UserPermissionsKey":{"value":[]},"advancedProperties":{"value":[]},"validate":{"value":false},"fileAction":{"value":"OVERWRITE"}},"error":{"error0":{"label":{"value":"error0"},"view_type":{"value":"document"}},"error_behavior":{"value":"fail"}},"input":{"input0":{"label":{"value":"input0"},"view_type":{"value":"binary"}}}},"class_version":3,"instance_fqid":"4c9708ae-c7e7-4dcd-aad0-e68e86b21018_1"}},"class_fqid":"com-snaplogic-pipeline_9","partition_snode_id":"5de56d7560586d1da74f79aa","target_runtime":"standard","path_id":"/SMG-Dev/Miscellaneous-DEV/testing","create_time":"2019-11-22T23:12:15.934000+00:00","snode_id":"5dd86b4f5cdcb008c238493a","update_user_id":"cesar@imidia.us","org_snode_id":"5d9077591eb9e9617dc3ea3f","path":"/SMG-Dev/Miscellaneous-DEV/testing/TEST-FindEmptyRound-Vista","instance_version":7,"migrate_version":"master-6256","scrub_backup":[],"create_user_id":"cesar@imidia.us","name":"TEST-FindEmptyRound-Vista","project_snode_id":"5de56db29d6d50779855e9d4","property_map":{"info":{"notes":{"value":null},"author":{"value":"cesar@imidia.us"},"purpose":{"value":null},"pipeline_doc_uri":{"value":null},"label":{"value":"TEST-FindEmptyRound-Vista"}},"output":{},"settings":{"imports":{"value":[{"path":{"expression":true,"value":"\"../conf/\"+ _environmentId + \".expr\""},"as":{"value":"env"}}]},"error_param_table":{"value":[]},"param_table":{"value":[{"capture":{"value":true},"description":{"value":null},"data_type":{"value":"string"},"required":{"value":false},"value":{"value":"001"},"key":{"value":"storeNumber"}},{"capture":{"value":true},"description":{"value":null},"data_type":{"value":"string"},"required":{"value":false},"value":{"value":"ARLINGVISTA"},"key":{"value":"hostName"}},{"capture":{"value":true},"description":{"value":null},"data_type":{"value":"string"},"required":{"value":false},"value":{"value":"Lewisville"},"key":{"value":"storeName"}},{"capture":{"value":true},"description":{"value":null},"data_type":{"value":"string"},"required":{"value":false},"value":{"value":"misc_dev"},"key":{"value":"environmentId"}}]},"error_pipeline":{"expression":false,"value":null}},"instance_version":5,"error":{"error_behavior":{"value":"none"}},"input":{}},"render_map":{"pan_x_num":0,"default_snaplex":"5d9373f12a61c3023925ae39","scale_ratio":1,"detail_map":{"1958880b-32d8-4859-a289-7565750f0d84":{"grid_x_int":1,"index":null,"recommendation_id":null,"source":"snap catagory","grid_y_int":4,"rot_tail_int":0,"rot_int":0},"66c64165-3d65-4109-b8dc-1857ea027b42":{"grid_x_int":6,"index":null,"recommendation_id":null,"source":"snap catagory","grid_y_int":4,"rot_tail_int":0,"input":{},"output":{},"rot_int":0},"6f17931c-074c-488b-96d2-19b468dec377":{"grid_x_int":2,"index":null,"recommendation_id":null,"output":{},"source":"snap catagory","grid_y_int":4,"rot_tail_int":0,"error":{},"input":{},"rot_int":0},"9452c9bb-aee1-43f7-869e-72cf0e9978e9":{"grid_x_int":5,"index":null,"recommendation_id":null,"source":"snap catagory","grid_y_int":4,"rot_tail_int":0,"rot_int":0},"bff443ee-51e6-49b4-aa40-ac0df23d9c56":{"grid_x_int":3,"index":null,"recommendation_id":null,"source":"","grid_y_int":4,"rot_tail_int":0,"rot_int":0},"fb84de50-6f51-4de7-bdb7-6352314df6f1":{"grid_x_int":4,"index":null,"recommendation_id":null,"output":{},"source":"","grid_y_int":4,"rot_tail_int":0,"error":{},"input":{},"rot_int":0},"4c9708ae-c7e7-4dcd-aad0-e68e86b21018":{"grid_x_int":7,"index":null,"recommendation_id":null,"source":"snap catagory","grid_y_int":4,"rot_tail_int":0,"rot_int":0}},"pan_y_num":0},"org_id":"5d9077591eb9e9617dc3ea3f","class_version":9,"class_id":"com-snaplogic-pipeline","instance_fqid":"79cf51ce-a046-4fad-ab60-b6ab1a80e9a6_7","link_map":{"link115":{"src_view_id":"output0","dst_view_id":"input0","src_id":"bff443ee-51e6-49b4-aa40-ac0df23d9c56","dst_id":"fb84de50-6f51-4de7-bdb7-6352314df6f1"},"link114":{"src_view_id":"output0","dst_view_id":"input0","src_id":"6f17931c-074c-488b-96d2-19b468dec377","dst_id":"bff443ee-51e6-49b4-aa40-ac0df23d9c56"},"link131":{"src_view_id":"output0","dst_view_id":"input0","src_id":"9452c9bb-aee1-43f7-869e-72cf0e9978e9","dst_id":"66c64165-3d65-4109-b8dc-1857ea027b42"},"link130":{"src_view_id":"output0","dst_view_id":"input0","src_id":"fb84de50-6f51-4de7-bdb7-6352314df6f1","dst_id":"9452c9bb-aee1-43f7-869e-72cf0e9978e9"},"link129":{"src_view_id":"output101","dst_view_id":"input0","src_id":"1958880b-32d8-4859-a289-7565750f0d84","dst_id":"6f17931c-074c-488b-96d2-19b468dec377"},"link132":{"src_view_id":"output0","dst_view_id":"input0","src_id":"66c64165-3d65-4109-b8dc-1857ea027b42","dst_id":"4c9708ae-c7e7-4dcd-aad0-e68e86b21018"}}}]